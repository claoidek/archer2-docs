

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Software environment &mdash; ARCHER2 0.2alpha documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Running jobs on ARCHER2" href="scheduler.html" />
    <link rel="prev" title="Data management and transfer" href="data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ARCHER2
          

          
            
            <img src="../_static/archer2_white_transparent.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-start/overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">User and best practice guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="connecting.html">Connecting to ARCHER2</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data management and transfer</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Software environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-the-module-command">Using the <code class="docutils literal notranslate"><span class="pre">module</span></code> command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#information-on-the-available-modules">Information on the available modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-removing-and-swapping-modules">Loading, removing and swapping modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#capturing-your-environment-for-reuse">Capturing your environment for reuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-environment-overview">Shell environment overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scheduler.html">Running jobs on ARCHER2</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O and file systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-environment.html">Application development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Using Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profiling and performance tuning</a></li>
</ul>
<p class="caption"><span class="caption-text">Research software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../research-software/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/castep/castep.html">CASTEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/chemshell/chemshell.html">ChemShell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/code-saturne/code-saturne.html">Code Saturne</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/cp2k/cp2k.html">CP2K</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/elk/elk.html">ELK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/fenics/fenics.html">FEniCS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/gromacs/gromacs.html">GROMACS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/lammps/lammps.html">LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/mitgcm/mitgcm.html">MITgcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/mo-unified-model/mo-unified-model.html">Met Office Unified Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/namd/namd.html">NAMD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/nemo/nemo.html">NEMO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/nwchem/nwchem.html">NWChem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/onetep/onetep.html">ONETEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/openfoam/openfoam.html">OpenFOAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/qe/qe.html">Quantum Espresso</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research-software/vasp/vasp.html">VASP</a></li>
</ul>
<p class="caption"><span class="caption-text">Software libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software-libraries/overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Data analysis and tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data-tools/overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Essential skills</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../essentials/overview.html">Overview</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ARCHER2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Software environment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/archer2-hpc/archer2-docs/blob/master/user-guide/sw-environment.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-environment">
<h1>Software environment<a class="headerlink" href="#software-environment" title="Permalink to this headline">Â¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The ARCHER2 Service is not yet available. This documentation is in
development.</p>
</div>
<p>The software environment on ARCHER2 is primarily controlled through
the <code class="docutils literal notranslate"><span class="pre">module</span></code> command. By loading and switching software modules you
control which software and versions are available to you.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A module is a self-contained description of a software package - it
contains the settings required to run a software package and, usually,
encodes required dependencies on other software packages.</p>
</div>
<p>By default, all users on ARCHER2 start with the default software
environment loaded.</p>
<p>Software modules on ARCHER2 are provided by both Cray (usually known
as the <em>Cray Development Environment, CDE</em>) and by EPCC, who provide
the Service Provision and Computational Science and Engineering
services.</p>
<p>In this section, we provide:</p>
<blockquote>
<div><ul class="simple">
<li>A brief overview of the <code class="docutils literal notranslate"><span class="pre">module</span></code> command</li>
<li>A brief description of how the <code class="docutils literal notranslate"><span class="pre">module</span></code> command manipulates your environment</li>
</ul>
</div></blockquote>
<div class="section" id="using-the-module-command">
<h2>Using the <code class="docutils literal notranslate"><span class="pre">module</span></code> command<a class="headerlink" href="#using-the-module-command" title="Permalink to this headline">Â¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">We only cover basic usage of the <code class="docutils literal notranslate"><span class="pre">module</span></code> command here. For full documentation
please see the <a class="reference external" href="http://linux.die.net/man/1/module">Linux manual page on modules</a></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">module</span></code> command takes a subcommand to indicate what operation
you wish to perform. Common subcommands are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">list</span> <span class="pre">[name]</span></code> - List modules currently loaded in your environment,
optionally filtered by <code class="docutils literal notranslate"><span class="pre">[name]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span> <span class="pre">[name]</span></code> - List modules available, optionally filtered by <code class="docutils literal notranslate"><span class="pre">[name]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">name</span></code> - Load the module called <code class="docutils literal notranslate"><span class="pre">name</span></code> into your environment</li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">remove</span> <span class="pre">name</span></code> - Remove the module called <code class="docutils literal notranslate"><span class="pre">name</span></code> from your environment</li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">swap</span> <span class="pre">old</span> <span class="pre">new</span></code> - Swap module <code class="docutils literal notranslate"><span class="pre">new</span></code> for module <code class="docutils literal notranslate"><span class="pre">old</span></code> in your environment</li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">help</span> <span class="pre">name</span></code> - Show help information on module <code class="docutils literal notranslate"><span class="pre">name</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">show</span> <span class="pre">name</span></code> - List what module <code class="docutils literal notranslate"><span class="pre">name</span></code> actually does to your environment</li>
</ul>
</div></blockquote>
<p>These are described in more detail below.</p>
<div class="section" id="information-on-the-available-modules">
<h3>Information on the available modules<a class="headerlink" href="#information-on-the-available-modules" title="Permalink to this headline">Â¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">list</span></code> command will give the names of the modules
and their versions you have presently loaded in your environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[user@archer2-login0 ~]$ module list
Currently Loaded Modulefiles:
1) mpt/2.14                        3) intel-fc-16/16.0.3.210
2) intel-cc-16/16.0.3.210          4) intel-compilers-16/16.0.3.210
</pre></div>
</div>
<p>Finding out which software modules are available on the system is performed using the
<code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code> command. To list all software modules available, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[user@archer2-login0 ~]$ module avail
...
</pre></div>
</div>
<p>This will list all the names and versions of the modules available on
the service. Not all of them may work in your account though due to,
for example, licencing restrictions. You will notice that for many
modules we have more than one version, each of which is identified by a
version number. One of these versions is the default. As the
service develops the default version will change and old versions of
software may be deleted.</p>
<p>You can list all the modules of a particular type by providing an
argument to the <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code> command. For example, to list all
available versions of the GROMACS software, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[user@archer2-login0 ~]$ module avail gromacs

--------------------------------------- /lustre/sw/modulefiles ---------------------------------------
intel-compilers-16/16.0.2.181 intel-compilers-16/16.0.3.210
</pre></div>
</div>
<p>If you want more info on any of the modules, you can use the
<code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">help</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[user@archer2-login0 ~]$ module help gromacs

----------- Module Specific Help for &#39;mpt/2.14&#39; -------------------

The HPE Message Passing Toolkit (MPT) is an optimized MPI
implementation for HPE systems and clusters.  See the
MPI(1) man page and the MPT User&#39;s Guide for more
information.
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">show</span></code> command reveals what operations the module actually
performs to change your environment when it is loaded. We provide a brief
overview of what the significance of these different settings mean below.
For example, for the default GROMACS module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[user@archer2-login0 ~]$ module show gromacs

----------- Module Specific Help for &#39;mpt/2.14&#39; -------------------

The HPE Message Passing Toolkit (MPT) is an optimized MPI
implementation for HPE systems and clusters.  See the
MPI(1) man page and the MPT User&#39;s Guide for more
information.
</pre></div>
</div>
</div>
<div class="section" id="loading-removing-and-swapping-modules">
<h3>Loading, removing and swapping modules<a class="headerlink" href="#loading-removing-and-swapping-modules" title="Permalink to this headline">Â¶</a></h3>
<p>To load a module to use the <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span></code> command. For example,
to load the default version of GROMACS into your environment, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">gromacs</span>
</pre></div>
</div>
<p>Once you have done this, your environment will be setup to use the
GROMACS software (<em>e.g.</em> you can now use the <code class="docutils literal notranslate"><span class="pre">gmx</span></code> command). This version
of the command will load the default version of GROMACS. If
you need a specific version of the software, you can add more information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">load</span> <span class="n">gromacs</span><span class="o">/</span><span class="mf">2019.4</span>
</pre></div>
</div>
<p>will load GROMACS version 2019.4 into your environment, regardless of the
default.</p>
<p>If you want to remove software from your environment, <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">remove</span></code> will
remove a loaded module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">remove</span> <span class="n">gromacs</span>
</pre></div>
</div>
<p>will unload what ever version of <code class="docutils literal notranslate"><span class="pre">gromacs</span></code> (even if it is not the default)
you might have loaded.</p>
<p>There are many situations in which you might want to change the
presently loaded version to a different one, such as trying the latest
version which is not yet the default or using a legacy version to keep
compatibility with old data. This can be achieved most easily by using
âmodule swap oldmodule newmoduleâ.</p>
<p>Suppose you have loaded version 2020.1 of <code class="docutils literal notranslate"><span class="pre">gromacs</span></code>, the following
command will change to version 2019.4:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">swap</span> <span class="n">gromacs</span> <span class="n">gromacs</span><span class="o">/</span><span class="mf">2019.4</span>
</pre></div>
</div>
<p>You did not need to specify the version of the loaded module in your
current environment as this can be inferred as it will be the only one
you have loaded.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">swap</span></code> command is most often used on ARCHER2 to switch
between different compiler environments, <em>e.g.</em> Cray compilers to
GNU compilers. The software development environment is described in
more detail in the <a class="reference internal" href="dev-environment.html"><span class="doc">Application development environment</span></a> chapter.</p>
</div>
</div>
</div>
<div class="section" id="capturing-your-environment-for-reuse">
<h2>Capturing your environment for reuse<a class="headerlink" href="#capturing-your-environment-for-reuse" title="Permalink to this headline">Â¶</a></h2>
</div>
<div class="section" id="shell-environment-overview">
<h2>Shell environment overview<a class="headerlink" href="#shell-environment-overview" title="Permalink to this headline">Â¶</a></h2>
<p>Brief description of the shell environment variables and what they do.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scheduler.html" class="btn btn-neutral float-right" title="Running jobs on ARCHER2" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data.html" class="btn btn-neutral float-left" title="Data management and transfer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, EPCC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>